{"ast":null,"code":"var _jsxFileName = \"/home/akhilesh/Desktop/Mern/MwenNetfilixclone/admin1/src/pages/list/Lists.jsx\",\n    _s = $RefreshSig$();\n\nimport { Link, useLocation } from \"react-router-dom\";\nimport \"./Lists.css\";\nimport Chart from \"../../components/chart/Chart\";\nimport { productData } from \"../../dummyData\";\nimport { Publish } from \"@material-ui/icons\";\nimport MoivesReducer from \"../../context/Moviecontext/MoviesReducer\";\nimport { useContext, useState } from \"react\";\nimport storage from \"../../firebase/firebase\";\nimport { MoviesContext } from \"../../context/Moviecontext/MoviesContext\";\nimport { updateMovie } from \"../../context/Moviecontext/apiCalls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function List() {\n  _s();\n\n  const location = useLocation();\n  const {\n    dispatch\n  } = useContext(MoviesContext);\n  const [movies, setMovie] = useState(null);\n  const [uploaded, setUploaded] = useState(1);\n  const [trailer, setTrailer] = useState(null);\n  const [img, setimg] = useState(null);\n  const [video, setVideo] = useState(null);\n  const list = location.list;\n\n  const handleChange = e => {\n    const value = e.target.value;\n    setMovie({ ...movies,\n      [e.target.name]: value\n    });\n  };\n\n  console.log(movies);\n  console.log(img);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    updateMovie(dispatch, movies, movie._id);\n  };\n\n  const Upload = items => {\n    items.forEach(item => {\n      const filename = new Date().getTime() + (item === null || item === void 0 ? void 0 : item.label) + (item === null || item === void 0 ? void 0 : item.file.name);\n      const uploadTask = storage.ref(`/items/${filename}`).put(item === null || item === void 0 ? void 0 : item.file);\n      uploadTask.on(\"state_changed\", snapshot => {\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        console.log(\"uploading is \" + progress + \"% done\");\n      }, err => console.log(err), () => {\n        uploadTask.snapshot.ref.getDownloadURL().then(url => {\n          console.log(url);\n          setMovie(pre => {\n            return { ...pre,\n              [item.label]: url\n            };\n          });\n          setUploaded(pre => pre + 1);\n        });\n      });\n    });\n  };\n\n  const handleUpload = e => {\n    e.preventDefault();\n    Upload([{\n      file: trailer,\n      label: \"trailer\"\n    }, {\n      file: video,\n      label: \"video\"\n    }, {\n      file: img,\n      label: \"image\"\n    }]);\n  };\n\n  console.log(video);\n  console.log(trailer);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productTitleContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"productTitle\",\n        children: \"List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/newList\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"productAddButton\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productTop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productTopRight\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productInfoTop\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"productName\",\n            children: list.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productInfoBottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"id:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: list._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"Genre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: list.genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productInfoItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoKey\",\n              children: \"type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"productInfoValue\",\n              children: list.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productBottom\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"productForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productFormLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"list title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            onChange: handleChange,\n            placeholder: list.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"type\",\n            onChange: handleChange,\n            placeholder: list.type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"genre\",\n            onChange: handleChange,\n            placeholder: movie.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productFormRight\",\n          children: uploaded >= 4 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"addProductButton\",\n            onClick: handleSubmit,\n            children: \"update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"addProductButton\",\n            onClick: handleUpload,\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(List, \"EMvRZE6KVZQid97dPQxGf+t7NNY=\", false, function () {\n  return [useLocation];\n});\n\n_c = List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"sources":["/home/akhilesh/Desktop/Mern/MwenNetfilixclone/admin1/src/pages/list/Lists.jsx"],"names":["Link","useLocation","Chart","productData","Publish","MoivesReducer","useContext","useState","storage","MoviesContext","updateMovie","List","location","dispatch","movies","setMovie","uploaded","setUploaded","trailer","setTrailer","img","setimg","video","setVideo","list","handleChange","e","value","target","name","console","log","handleSubmit","preventDefault","movie","_id","Upload","items","forEach","item","filename","Date","getTime","label","file","uploadTask","ref","put","on","snapshot","progress","bytesTransferred","totalBytes","err","getDownloadURL","then","url","pre","handleUpload","title","genre","type"],"mappings":"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","sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport \"./Lists.css\";\nimport Chart from \"../../components/chart/Chart\"\nimport {productData} from \"../../dummyData\"\nimport { Publish } from \"@material-ui/icons\";\nimport MoivesReducer from \"../../context/Moviecontext/MoviesReducer\";\nimport { useContext, useState } from \"react\";\nimport storage from \"../../firebase/firebase\";\nimport { MoviesContext } from \"../../context/Moviecontext/MoviesContext\";\nimport { updateMovie } from \"../../context/Moviecontext/apiCalls\";\n\nexport default function List() {\n    const location = useLocation()\n      const { dispatch} = useContext(MoviesContext)\n    const [movies, setMovie] = useState(null);\n    const [uploaded, setUploaded] = useState(1);\n      const [trailer, setTrailer] = useState(null);\n      const [img, setimg] = useState(null);\n    \n  const [video, setVideo] = useState(null);\n    const list = location.list\n      const handleChange = (e) => {\n    const value = e.target.value;\n    setMovie({ ...movies, [e.target.name]: value });\n      };\n    console.log(movies)\n\nconsole.log(img)\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    updateMovie(dispatch,movies,movie._id)\n  };\n     const Upload = (items) => {\n    \n    items.forEach(item => {\n      const filename =  new Date().getTime()+item?.label+item?.file.name\n      const uploadTask = storage.ref(`/items/${filename}`).put(item?.file)\n      uploadTask.on(\"state_changed\", (snapshot) => {\n        const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        console.log(\"uploading is \"+progress+\"% done\")\n      }\n        , (err) => console.log(err), () => {\n          uploadTask.snapshot.ref.getDownloadURL().then((url)=> {\n            console.log(url)\n            setMovie((pre) => {\n            return {...pre,[item.label]:url}\n            })\n            setUploaded((pre)=>pre+1)\n        })\n      }\n      \n      )\n    })\n  }\n  const handleUpload = (e) => {\n    e.preventDefault();\n\n    Upload([\n      {\n        file:trailer,label:\"trailer\"\n      },\n      {\n        file:video,label:\"video\"\n      },\n      {\n        file:img,label:\"image\"\n      },\n    ])\n\n  }\n    console.log(video)\n    console.log(trailer)\n  return (\n    <div className=\"product\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">List</h1>\n        <Link to=\"/newList\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n          <div className=\"productTopRight\">\n              <div className=\"productInfoTop\">\n                      <span className=\"productName\">{ list.title}</span>\n              </div>\n              <div className=\"productInfoBottom\">\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">id:</span>\n                      <span className=\"productInfoValue\">{ list._id}</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">Genre</span>\n                          <span className=\"productInfoValue\">{list.genre}</span>\n                  </div>\n                  <div className=\"productInfoItem\">\n                      <span className=\"productInfoKey\">type</span>\n                          <span className=\"productInfoValue\">{ list.type}</span>\n                  </div>\n                \n              </div>\n          </div>\n      </div>\n      <div className=\"productBottom\">\n          <form className=\"productForm\">\n              <div className=\"productFormLeft\">\n                  <label>list title</label>\n            <input type=\"text\" name=\"title\" onChange={handleChange} placeholder={list.title} />\n                  <label>Year</label>\n                      <input type=\"text\"   name=\"type\"  onChange={handleChange} placeholder={ list.type}/>\n                  <label>Genre</label>\n                      <input type=\"text\"  name=\"genre\" onChange={handleChange} placeholder={ movie.genre}/>\n \n      \n                  \n              </div>\n              <div className=\"productFormRight\">\n                  \n                        {uploaded >=4 ? (\n          <button className=\"addProductButton\" onClick={handleSubmit}>\n          update\n          </button>\n        ) : (\n          <button className=\"addProductButton\" onClick={handleUpload}>\n            Upload\n          </button>\n        )}\n              </div>\n          </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}